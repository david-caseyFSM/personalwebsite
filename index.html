<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>David Kendall Casey</title>
    <link href="https://fonts.cdnjs.com/css2?family=Sorts+Mill+Goudy:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
        body {
            background: black;
            color: white;
            font-family: 'Sorts Mill Goudy', Georgia, serif;
            margin: 0;
            padding: 0;
            line-height: 1.7;
            font-size: 18px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        header {
            text-align: center;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 3rem;
            font-weight: normal;
            margin: 0;
        }

        h2 {
            font-size: 2.2rem;
            font-weight: normal;
            margin: 2rem 0;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        h3 {
            font-size: 1.5rem;
            font-weight: normal;
            margin: 2rem 0;
        }

        nav {
            text-align: center;
            padding: 1.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 1.5rem;
            font-size: 1.2rem;
        }

        nav a:hover {
            opacity: 0.7;
        }

        blockquote {
            border-left: 2px solid white;
            margin: 0;
            padding-left: 1.5rem;
        }

        .source {
            text-align: right;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 1rem;
        }

        .work-title {
            font-style: italic;
        }

        .quote-container {
            margin-bottom: 4rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.8s ease forwards;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
            margin-top: 1rem;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .category-label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9em;
            margin-left: 0.5em;
        }

        @media (max-width: 768px) {
            body {
                font-size: 16px;
            }

            nav a {
                display: block;
                margin: 0.5rem 0;
            }

            header {
                padding: 3rem 1rem;
            }

            h1 {
                font-size: 2.5rem;
            }
        }
    </style>
   <script>
	// Function to fetch quotes from a specified URL
	async function fetchQuotesFromPage(url) {
	  try {
		const response = await fetch(url);
		const text = await response.text();

		// Create a temporary DOM parser to extract blockquotes
		const parser = new DOMParser();
		const doc = parser.parseFromString(text, 'text/html');
		const quotes = doc.querySelectorAll('.quote-entry');
		
		return Array.from(quotes); // Return quotes as an array
	  } catch (error) {
		console.error(`Failed to fetch quotes from ${url}:`, error);
		return [];
	  }
	}

	// Function to display a daily random quote
	async function displayDailyQuote() {
	  const pagesToSearch = ['commonplace.html', 'on-art.html', 'on-age.html']; // Add all your pages here
	  let allQuotes = [];

	  // Fetch quotes from all specified pages
	  for (const page of pagesToSearch) {
		const quotes = await fetchQuotesFromPage(page);
		allQuotes = allQuotes.concat(quotes);
	  }

	  // If no quotes were found, log an error
	  if (allQuotes.length === 0) {
		console.error('No quotes found on specified pages.');
		return;
	  }

	  // Get the current time in milliseconds
	  const currentTime = new Date().getTime();

	  // Retrieve the time of the last quote change and the last quote index from localStorage
	  const lastQuoteTime = localStorage.getItem('lastQuoteTime');
	  const lastQuoteIndex = localStorage.getItem('lastQuoteIndex');
	  
	  let randomIndex;

	  // If more than 24 hours have passed, select a new quote
	  if (!lastQuoteTime || currentTime - lastQuoteTime > 86400000) {
		randomIndex = Math.floor(Math.random() * allQuotes.length);
		localStorage.setItem('lastQuoteIndex', randomIndex);
		localStorage.setItem('lastQuoteTime', currentTime);
	  } else {
		randomIndex = parseInt(lastQuoteIndex, 10);
	  }

	  // Extract the selected quote
	  const selectedQuote = allQuotes[randomIndex];
	  const quoteText = selectedQuote.querySelector('blockquote').textContent.trim();
	  const sourceText = selectedQuote.querySelector('.source').textContent.trim();

	  // Display the quote
	  document.getElementById('quote-text').textContent = `"${quoteText}"`;
	  document.getElementById('quote-source').textContent = `â€” ${sourceText}`;
	}

	// Call the function when the page loads
	window.onload = displayDailyQuote;
</script>

</head>
<body>
    <header>
        <h1>David Kendall Casey</h1>
        <p class="subtitle">Medical Student, Writer</p>
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="commonplace.html">Commonplace Book</a>
        <a href="#">Writing</a>
        <a href="#">Speaking</a>
        <a href="#">Research</a>
    </nav>

    <main class="container">
        <div id="quote-of-the-day">
			<blockquote id="quote-text"></blockquote>
			<p id="quote-source"></p>
		</div>
    </main>
</body>
</html>
